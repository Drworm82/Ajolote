import * as React from 'react'
import { motion } from 'framer-motion'

// En Pages usamos base /Ajolote/
const FRONT = '/Ajolote/images/coin-front.png'
const BACK  = '/Ajolote/images/coin-back.png'

export default function CoinDisplay({
  isFlipping,
  showAjolote,
  flipDurationMs = 1200
}: {
  isFlipping: boolean
  showAjolote: boolean
  flipDurationMs?: number
}) {
  return (
    <div className="relative my-6">
      <motion.div
        className="w-64 h-64 md:w-72 md:h-72 rounded-full mx-auto select-none"
        animate={{ rotateY: isFlipping ? 1800 : 0 }}
        transition={{ duration: flipDurationMs / 1000, ease: 'easeInOut' }}
        style={{ transformStyle: 'preserve-3d' }}
      >
        {/* Frente */}
        <img
          src={FRONT}
          alt="Moneda ajolote - frente"
          className="w-full h-full object-contain backface-hidden"
          style={{ backfaceVisibility: 'hidden' }}
        />
        {/* Reverso */}
        <img
          src={BACK}
          alt="Moneda ajolote - reverso"
          className="w-full h-full object-contain absolute inset-0"
          style={{ transform: 'rotateY(180deg)', backfaceVisibility: 'hidden', display: showAjolote ? 'none' : 'block' }}
        />
      </motion.div>

      {/* Sombra */}
      <div className="coin-shadow" />
    </div>
  )
}
